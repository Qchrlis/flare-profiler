{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/views/components/call.vue?d19b","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./src/views/components/call.vue?49c0","webpack:///src/views/components/call.vue","webpack:///./src/views/components/call.vue?a434","webpack:///./src/views/components/call.vue","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"],"names":["module","exports","__webpack_require__","toObject","$keys","it","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_call_vue_vue_type_style_index_0_id_2c63b527_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_call_vue_vue_type_style_index_0_id_2c63b527_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","$Object","Object","key","desc","defineProperty","$export","S","F","f","keys","render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","id","data","selectCpuRowArray","width","scopedSlots","_u","fn","scope","_v","_s","row","staticStyle","margin-top","domProps","innerHTML","flame_graph_data","staticRenderFns","callvue_type_script_lang_js_","show_flame_graph","dataZoomStart","dataZoomEnd","computed","sampleInfo","$store","state","sessionSampleInfo","exampleInfo","sessionId","$route","params","sessionInfo","callName","call","sessionThreads","sessionCpuTimes","sessionFlameGraph","historySamples","sessionTabsValue","selectCpuRow","echartsDataZoomPosition","mounted","_this","$nextTick","on_cpu_time_result","created","getFlameGraphData","methods","_this2","filter","item","flameGraphList","item1","threadId","flameGraphData","length","$router","push","path","cpuRowList","forEach","selectRow","threadName","threadInfo","_this3","cpuTimeArray","cpuTimeData","sessionSampleInfoArray","sessionSample","sess_start_time","record_start_time","sess_end_time","last_record_time","unit_time_ms","cpuInfo","thread","total_cpu_time","ts_data","fill_ts_data","start_time","end_time","myChart","create_echarts_bar","on","evt","console","log","start","end","postitionArray","dataZoomPositionArray","dataZoomPosition","curDataZoomPosition","commit","axis","getModel","option","xAxis","rangeStart","rangeEnd","update_call_stack_tree","thread_id","request","cmd","options","session_id","$webSocket","webSocketSendMessage","JSON","stringify","elemId","echartsData","_this4","i","Math","random","toFixed","hasOwnProperty","undefined","objectSpread","dataZoom","type","moveOnMouseMove","moveOnMouseWheel","zoomOnMouseWheel","dataBackground","lineStyle","color","opacity","areaStyle","realtime","filterMode","top","left","show","yAxis","series","large","largeThreshold","itemStyle","$echarts","init","document","getElementById","setOption","thread_ts_data","thread_start_time","thread_end_time","fill_steps_before","fill_steps_after","new_data_vec","concat","watch","_this5","_this6","components_callvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","toIObject","$getOwnPropertyDescriptor","core","fails","KEY","exec","exp","_defineProperty","obj","define_property_default","enumerable","configurable","writable","_objectSpread","target","arguments","source","ownKeys","keys_default","get_own_property_symbols_default","a","sym","get_own_property_descriptor_default","d","getOwnPropertySymbols","getOwnPropertyDescriptor"],"mappings":"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","file":"static/js/chunk-8b502488.cda1f461.js","sourcesContent":["module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=style&index=0&id=2c63b527&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=style&index=0&id=2c63b527&scoped=true&lang=css&\"","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","module.exports = require(\"core-js/library/fn/object/define-property\");","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","module.exports = require(\"core-js/library/fn/object/keys\");","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"session\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_flame_graph),expression:\"show_flame_graph\"}],attrs:{\"id\":\"flame_graph\"}},[_c('el-table',{attrs:{\"data\":_vm.selectCpuRowArray}},[_c('el-table-column',{attrs:{\"width\":\"400\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.name))])]}}])}),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"thread_bar\",attrs:{\"id\":'thread_select_cpu_chart_' + scope.row.id+''}})]}}])})],1),_c('div',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"id\":\"flame_graph_svg\"},domProps:{\"innerHTML\":_vm._s(_vm.flame_graph_data)}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"session\">\r\n        <div id=\"flame_graph\" v-show=\"show_flame_graph\">\r\n            <!--<el-select v-model=\"selectValue\" style=\"width: 100%\">\r\n                <el-option\r\n                        v-for=\"item in threads\"\r\n                        :key=\"item.name\"\r\n                        :label=\"item.name\"\r\n                        :value=\"item.name\" style=\"width: 100%\">\r\n                    <div style=\"width: 100%\">\r\n                        <div style=\"float: left; width: 400px\">\r\n                            {{ item.name }}\r\n                        </div>\r\n                        <div class=\"thread_bar\" v-bind:id=\"'thread_select_cpu_chart_' + item.id+''\"></div>\r\n                    </div>\r\n                </el-option>\r\n            </el-select>-->\r\n\r\n            <el-table :data=\"selectCpuRowArray\">\r\n                <el-table-column width=\"400\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span>{{scope.row.name}}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column>\r\n                    <template slot-scope=\"scope\">\r\n                        <div class=\"thread_bar\" v-bind:id=\"'thread_select_cpu_chart_' + scope.row.id+''\"></div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <!--<h4 class=\"title\">Flame Graph</h4>-->\r\n            <div id=\"flame_graph_svg\" style=\"margin-top: 20px;\" v-html=\"flame_graph_data\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'call',\r\n        data() {\r\n            return {\r\n                show_flame_graph: true,\r\n                flame_graph_data: \"\",\r\n                selectCpuRowArray:[],\r\n                dataZoomStart: 0,\r\n                dataZoomEnd: 10,\r\n            }\r\n        },\r\n        computed: {\r\n            sampleInfo() {\r\n                return this.$store.state.sampleInfo;\r\n            },\r\n            sessionSampleInfo() {\r\n                return this.$store.state.sessionSampleInfo;\r\n            },\r\n            exampleInfo() {\r\n                return this.$store.state.exampleInfo;\r\n            },\r\n            sessionId() {\r\n                return this.$route.params.sessionInfo;\r\n            },\r\n            callName() {\r\n                return this.$route.params.call;\r\n            },\r\n            sessionThreads() {\r\n                return this.$store.state.sessionThreads;\r\n            },\r\n            sessionCpuTimes() {\r\n                return this.$store.state.sessionCpuTimes;\r\n            },\r\n            sessionFlameGraph() {\r\n                return this.$store.state.sessionFlameGraph;\r\n            },\r\n            historySamples() {\r\n                return this.$store.state.historySamples;\r\n            },\r\n            sessionTabsValue() {\r\n                return this.$store.state.sessionTabsValue;\r\n            },\r\n            selectCpuRow() {\r\n                return this.$store.state.selectCpuRow;\r\n            },\r\n            echartsDataZoomPosition() {\r\n                return this.$store.state.echartsDataZoomPosition;\r\n            },\r\n        },\r\n        mounted(){\r\n            this.$nextTick(()=>{\r\n                this.on_cpu_time_result();\r\n            })\r\n        },\r\n        /*activated(){\r\n            this.getFlameGraphData();\r\n            this.$nextTick(()=>{\r\n                this.on_cpu_time_result();\r\n            })\r\n        },*/\r\n        created() {\r\n            this.getFlameGraphData();\r\n        },\r\n        methods: {\r\n            getFlameGraphData(){\r\n                let flareGrapList = this.sessionFlameGraph.filter(item => {\r\n                    if (item.sessionId == this.sessionId) {\r\n                        item.flameGraphList.filter(item1 => {\r\n                            if (item1.threadId == this.callName) {\r\n                                this.flame_graph_data = item1.flameGraphData.flame_graph_data;\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n\r\n                if (this.historySamples.length <= 0) {\r\n                    this.$router.push({\r\n                        path:'/samples'\r\n                    });\r\n                }\r\n\r\n                let cpuRowList = this.selectCpuRow.filter(item => {\r\n                    if (item.sessionId == this.sessionId) {\r\n                        return item;\r\n                    }\r\n                })\r\n\r\n                this.selectCpuRowArray = [];\r\n                cpuRowList.forEach(item => {\r\n                    item.selectRow.forEach(item1 => {\r\n                        if (item1.threadName == this.callName) {\r\n                            this.selectCpuRowArray.push(item1.threadInfo)\r\n                        }\r\n                    })\r\n                })\r\n            },\r\n            on_cpu_time_result(){\r\n\r\n                let cpuTimeArray = this.sessionCpuTimes.filter(item => {\r\n                    if (item.sessionId == this.sessionId) {\r\n                        return item;\r\n                    }\r\n                })\r\n                if (cpuTimeArray.length <= 0 || this.selectCpuRowArray.length <= 0) {\r\n                    return false;\r\n                }\r\n                let data = cpuTimeArray[0].cpuTimeData;\r\n                if (!data) {\r\n                    return false;\r\n                }\r\n\r\n                let sessionSampleInfoArray = this.sessionSampleInfo.filter(item => {\r\n                    if (item.sessionId == this.sessionId) {\r\n                        return item;\r\n                    }\r\n                });\r\n\r\n                let sessionSample = sessionSampleInfoArray[0].sessionSample\r\n\r\n                var sess_start_time = sessionSample.record_start_time;\r\n                var sess_end_time = sessionSample.last_record_time;\r\n                var unit_time_ms = sessionSample.unit_time_ms;\r\n\r\n                let cpuInfo = data.filter(item => {\r\n                    if (item.id == this.selectCpuRowArray[0].id) {\r\n                        return item;\r\n                    }\r\n                })\r\n\r\n                let thread = cpuInfo[0];\r\n                if (thread.total_cpu_time > 0) {\r\n                    let ts_data = this.fill_ts_data(thread.ts_data, thread.start_time, thread.end_time, sess_start_time, sess_end_time, unit_time_ms);\r\n\r\n                    let myChart = this.create_echarts_bar(\"thread_select_cpu_chart_\"+thread.id, ts_data, thread);\r\n                    myChart.on('datazoom', (evt) => {\r\n                        console.log('evt start', evt.start, 'evt end', evt.end)\r\n\r\n                        let postitionArray = [];\r\n                        let dataZoomPositionArray = this.echartsDataZoomPosition.filter(item => {\r\n                            if (item.sessionId == this.sessionId) {\r\n                                return item;\r\n                            } else {\r\n                                postitionArray.push(item);\r\n                            }\r\n                        });\r\n\r\n                        let dataZoomPosition = [];\r\n                        dataZoomPositionArray.filter(item => {\r\n                            item.dataZoomPosition.forEach(item1 => {\r\n                                if (item1.threadName != this.callName) {\r\n                                    dataZoomPosition.push(item1);\r\n                                    //return item;\r\n                                }\r\n                            })\r\n                        });\r\n                        let curDataZoomPosition = {threadName: this.callName, dataZoomStart: evt.start, dataZoomEnd: evt.end};\r\n                        dataZoomPosition.push(curDataZoomPosition);\r\n                        postitionArray.push({sessionId: this.sessionId, dataZoomPosition:dataZoomPosition})\r\n                        console.log('postitionArray', postitionArray, 'thread', thread);\r\n                        this.$store.commit('echarts_dataZoom_position', postitionArray);\r\n\r\n                        var axis = myChart.getModel().option.xAxis[0];\r\n                        // var starttime = axis.data[axis.rangeStart];\r\n                        // var endtime = axis.data[axis.rangeEnd];\r\n                        let start_time = sess_start_time + axis.rangeStart*unit_time_ms;\r\n                        let end_time = sess_start_time + axis.rangeEnd*unit_time_ms;\r\n                        console.log(\"datazoom: thread:\",thread.id, \", index:\", axis.rangeStart,\"-\", axis.rangeEnd,\", time:\", start_time,\"-\", end_time );\r\n                        this.update_call_stack_tree(thread.id, start_time, end_time);\r\n                    })\r\n                }\r\n            },\r\n            update_call_stack_tree(thread_id, start_time, end_time) {\r\n                var request = {\r\n                    \"cmd\": \"flame_graph\",\r\n                    \"options\": {\r\n                        \"session_id\": this.sessionId,\r\n                        \"thread_id\": thread_id,\r\n                        \"start_time\": start_time,\r\n                        \"end_time\": end_time\r\n                    }\r\n                };\r\n                this.$webSocket.webSocketSendMessage(JSON.stringify(request));\r\n            },\r\n            create_echarts_bar(elemId, echartsData, thread) {\r\n                if (!echartsData) {\r\n                    echartsData = [];\r\n                    for (let i = 0; i < 3000; i++) {\r\n                        echartsData.push(Math.random().toFixed(2) * 1000);\r\n                    }\r\n                }\r\n\r\n                if (!thread.hasOwnProperty('id') || thread.id == undefined || !('id' in thread)) {\r\n                    console.log(\"id为空，\", thread)\r\n                    return false;\r\n                }\r\n\r\n                let dataZoomPositionArray = this.echartsDataZoomPosition.filter(item => {\r\n                    if (item.sessionId == this.sessionId) {\r\n                        return item;\r\n                    }\r\n                });\r\n\r\n                if (dataZoomPositionArray.length > 0) {\r\n                    let dataZoomPosition = {};\r\n                    dataZoomPositionArray.filter(item => {\r\n                        item.dataZoomPosition.forEach(item1 => {\r\n                            if (item1.threadName == this.callName) {\r\n                                dataZoomPosition = {...item1};\r\n                            }\r\n                        })\r\n                    });\r\n\r\n                    this.dataZoomStart = dataZoomPosition.dataZoomStart | 0;\r\n                    this.dataZoomEnd = dataZoomPosition.dataZoomEnd | 10;\r\n                }\r\n\r\n                let options = {\r\n                    dataZoom: [{\r\n                        type: 'inside',\r\n                        start: this.dataZoomStart,\r\n                        end: this.dataZoomEnd,\r\n                        moveOnMouseMove: false,\r\n                        moveOnMouseWheel: false,\r\n                        zoomOnMouseWheel: false\r\n                    }, {\r\n                        type: 'slider',\r\n                        //backgroundColor:'#cccccc',\r\n                        dataBackground: {\r\n                            lineStyle: {\r\n                                color: '#409eff',\r\n                                opacity: 1\r\n                            },\r\n                            areaStyle: {\r\n                                color: '#3a8ee6',\r\n                                opacity: 0.3\r\n                            }\r\n                        },\r\n                        realtime: false,\r\n                        filterMode: 'empty',\r\n                        top: 'top',\r\n                        left: 'left'\r\n                    }],\r\n                    xAxis: {\r\n                        data: echartsData,\r\n                        show: false\r\n                    },\r\n                    yAxis: {show: false},\r\n                    series: [{\r\n                        type: 'bar',//bar\r\n                        data: echartsData,\r\n                        large: true,\r\n                        largeThreshold: 50,\r\n                        itemStyle: {\r\n                            color: '#e74911', // bar颜色\r\n                            opacity: 0 // 透明度，0：不绘制\r\n                        }\r\n                    }]\r\n                }\r\n                let myChart = this.$echarts.init(document.getElementById(elemId));\r\n                myChart.setOption(options);\r\n                console.log('myChart', myChart)\r\n                return myChart;\r\n            },\r\n            fill_ts_data(thread_ts_data, thread_start_time, thread_end_time, start_time, end_time, unit_time_ms) {\r\n                let fill_steps_before = (thread_start_time - start_time) / unit_time_ms;\r\n                let fill_steps_after = (end_time - thread_end_time) / unit_time_ms;\r\n                if (fill_steps_before < 1 && fill_steps_after < 1) {\r\n                    return thread_ts_data;\r\n                }\r\n\r\n                let new_data_vec = [];// Vec::with_capacity(data_vec.len()+(fill_steps_before+fill_steps_after) as usize);\r\n                for (var i = 0; i < fill_steps_before; i++) {\r\n                    new_data_vec.push(0);\r\n                }\r\n\r\n                new_data_vec = new_data_vec.concat(thread_ts_data);\r\n\r\n                for (var i = 0; i < fill_steps_after; i++) {\r\n                    new_data_vec.push(0);\r\n                }\r\n                return new_data_vec;\r\n            },\r\n        },\r\n        watch: {\r\n            sessionFlameGraph() {\r\n                if (this.sessionFlameGraph.length > 0) {\r\n                    let flareGrapList = this.sessionFlameGraph.filter(item => {\r\n                        if (item.sessionId == this.sessionId) {\r\n                            item.flameGraphList.filter(item1 => {\r\n                                if (item1.threadId == this.callName) {\r\n                                    this.flame_graph_data = item1.flameGraphData.flame_graph_data;\r\n                                }\r\n                            })\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            callName() {\r\n                this.getFlameGraphData();\r\n                this.$nextTick(()=>{\r\n                    this.on_cpu_time_result();\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n    .thread_bar {\r\n        height: 30px;\r\n        width: 900px;\r\n        float: left;\r\n        color: #e74911;\r\n        overflow: hidden;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./call.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./call.vue?vue&type=template&id=2c63b527&scoped=true&\"\nimport script from \"./call.vue?vue&type=script&lang=js&\"\nexport * from \"./call.vue?vue&type=script&lang=js&\"\nimport style0 from \"./call.vue?vue&type=style&index=0&id=2c63b527&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c63b527\",\n  null\n  \n)\n\nexport default component.exports","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _Object$getOwnPropertyDescriptor from \"../../core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"../../core-js/object/keys\";\nimport defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    var ownKeys = _Object$keys(source);\n\n    if (typeof _Object$getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function (sym) {\n        return _Object$getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n"],"sourceRoot":""}